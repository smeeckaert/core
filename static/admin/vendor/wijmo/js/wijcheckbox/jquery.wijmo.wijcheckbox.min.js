var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijcheckbox",r=0,i=function(e){function n(){e.apply(this,arguments),this._csspre="wijcheckbox"}return __extends(n,e),n.prototype._init=function(){var e=this,n=e.element,i=e.options,s,o,u,a,f;n.is(":checkbox")&&(n.attr("id")||(n.attr("id",e._csspre+r),r+=1),n.parent().is("label")?(s=n.parent().wrap(t("<div></div>").addClass(i.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijCSS.wijcheckbox).addClass(i.wijCSS.widget),o=n.parent(),o.attr("for",n.attr("id")),s.find("."+i.wijCSS.wijcheckboxInputwrapper).append(n),s.append(o)):s=n.wrap(t("<div></div>").addClass(i.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijCSS.wijcheckbox).addClass(i.wijCSS.widget),u=t("label[for='"+n.attr("id")+"']"),u.length>0&&(s.append(u),u.attr("labelsign","C1")),n.is(":disabled")&&e._setOption("disabled",!0),a=t("<div></div>").addClass(i.wijCSS.wijcheckboxBox).addClass(i.wijCSS.widget).addClass(i.disabled?i.wijCSS.stateDisabled:i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll).append(t("<span></span>").addClass(i.wijCSS.wijcheckboxIcon)),f=a.children("."+i.wijCSS.wijcheckboxIcon),s.append(a),n.data("iconElement",f),n.data("boxElement",a),n.data("checkboxElement",s),a.removeClass(i.wijCSS.wijcheckboxRelative).attr("role","checkbox").bind("mouseover",function(){n.mouseover(null)}).bind("mouseout",function(){n.mouseout(null)}),(u.length===0||u.html()==="")&&a.addClass(i.wijCSS.wijcheckboxRelative),n.bind("click.checkbox",function(t){if(i.disabled)return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.checkbox",function(){if(i.disabled)return;a.removeClass(i.wijCSS.stateDefault).addClass(i.wijCSS.stateFocus)}).bind("blur.checkbox",function(){if(i.disabled)return;a.removeClass(i.wijCSS.stateFocus).not("."+i.wijCSS.stateHover).addClass(i.wijCSS.stateDefault)}).bind("keydown.checkbox",function(t){if(t.keyCode===32){if(i.disabled)return;e.refresh(null)}}),a.bind("click.checkbox",function(t){if(i.disabled)return;n.get(0).checked=!n.get(0).checked,n.change(),n.focus(),e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}),e._initCheckState(),e.refresh(null),s.bind("mouseover.checkbox",function(e){if(i.disabled)return;a.removeClass(i.wijCSS.stateDefault).addClass(i.wijCSS.stateHover)}).bind("mouseout.checkbox",function(e){if(i.disabled)return;a.removeClass(i.wijCSS.stateHover).not("."+i.wijCSS.stateFocus).addClass(i.wijCSS.stateDefault)}),s.attr("title",n.attr("title")))},n.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t))},n.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.get(0).checked=n,r.refresh(null),i!==n&&r._trigger("changed",null,{checked:n}))},n.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},n.prototype.refresh=function(e){var t=this,n=t.options;n.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,t.element.get(0).checked),t.element.data("boxElement").toggleClass(n.wijCSS.stateActive,t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass(n.wijCSS.stateChecked,t.element.get(0).checked),e&&e.stopPropagation()},n.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},n}(e.wijmoWidget);i.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijcheckbox')",wijCSS:{wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},checked:null,changed:null}),t.wijmo.registerWidget(n,i.prototype)})(wijmo||(wijmo={}));