var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijupload",r="wijmo-wijupload",i="wijmo-wijupload-fileRow",s="."+i,o="wijmo-wijupload-filesList",u="wijmo-wijupload-commandRow",a="wijmo-wijupload-uploadAll",f="wijmo-wijupload-cancelAll",l="wijmo-wijupload-buttonContainer",c="wijmo-wijupload-upload",h="."+c,p="wijmo-wijupload-cancel",d="."+p,v="wijmo-wijupload-file",m="wijmo-wijupload-progress",g="wijmo-wijupload-loading",y="ui-widget-content",b="ui-corner-all",w="ui-state-highlight",E,S,x=function(e){return e.indexOf("\\")>-1&&(e=e.substring(e.lastIndexOf("\\")+1)),e},T=function(e){var n=e.files,r="";return n?(t.each(n,function(e,t){r+=x(t.name)+"; "}),r.length&&(r=r.substring(0,r.lastIndexOf(";")))):r=x(e.value),r},N=function(e){var n=e.files,r=0;return n&&n.length>0&&t.each(n,function(e,t){t.size&&(r+=t.size)}),r};E=function(e,n,r){var i,s=t("input",n),o=function(e){e&&(e.abort(),e=null)},u=function(e){e&&(e=null)},a=function(){var e=this,i=s.get(0).files,a=[],f=0,l=0,c=function(n,r){var o=new XMLHttpRequest;return o.open("POST",r,!0),o.setRequestHeader("Wijmo-RequestType","XMLHttpRequest"),o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("Wijmo-FileName",n),o.setRequestHeader("Content-Type","application/octet-stream"),o.upload.onprogress=function(n){if(n.lengthComputable){var r;t.isFunction(e.onProgress)&&(r={supportProgress:!0,loaded:l+n.loaded,total:N(s[0]),fileName:x(e.currentFile.name),fileNameList:T(s[0]).split("; ")},e.onProgress(r))}},o.onreadystatechange=function(n){if(this.readyState===4){var r=this.responseText,s;l+=i[f].size,f++,i.length>f?h(i[f]):t.isFunction(e.onComplete)&&(s={e:n,response:r,supportProgress:!0},e.onComplete(s))}},a.push(o),o},h=function(t){var n=x(t.name),i=c(n,r);e.handleRequest(i,t),e.currentFile=t,i.send(t)};e.fileRow=n,e.inputFile=s,e.upload=function(){h(i[f])},e.cancel=function(){t.each(a,function(e,t){o(t)}),t.isFunction(e.onCancel)&&e.onCancel()},e.destroy=function(){t.each(a,function(e,t){u(t)})},e.updateAction=function(e){r=e},e.handleRequest=null,e.onCancel=null,e.onComplete=null,e.onProgress=null};return i=new a,i},S=function(e,n,r){var i,s=t("input",n),o=s.attr("id"),u="wijUploadForm_"+e,a=t("#"+u),f="wijUploadIfm_"+o,l=!0,c=t('<iframe id="'+f+'" name="'+f+'">'),h=function(e,t){a.empty(),a.attr("target",e.attr("name")),t&&(t.parent().append(t.clone()),a.append(t)),a.submit()},p=function(e){e.attr("src","javascript".concat(":false;"))},d=function(e,t){t&&a&&(a.remove(),a=null),e&&(e.remove(),e=null)},v;return a.length===0&&(a=t('<form method="post" enctype="multipart/form-data"></form>'),a.attr("action",r).attr("id",u).attr("name",u).appendTo("body")),c.css("position","absolute").css("top","-1000px").css("left","-1000px"),c.appendTo("body"),v=function(){var e=this;e.fileRow=n,e.iframe=c,e.inputFile=s,e.upload=function(){var n;h(c,s),t.isFunction(e.onProgress)&&(n={supportProgress:!1,loaded:1,total:1},e.onProgress(n))},e.doPost=function(){h(c)},e.cancel=function(){p(c),t.isFunction(e.onCancel)&&e.onCancel()},e.updateAction=function(e){r=e,a.attr("action",e)},e.destroy=function(e){d(c,e)},e.onCancel=null,e.onComplete=null,e.onProgress=null,c.bind("load",function(n){if(!t.browser.safari&&l&&!e.autoSubmit){l=!1;return}if(c.attr("src")==="javascript".concat(":false;"))return;var r=n.target,i,s,o;try{s=r.contentDocument?r.contentDocument:window.frames[0].document,s.XMLDocument?i=s.XMLDocument:s.body?i=s.body.innerHTML:i=s,t.isFunction(e.onComplete)&&(o={e:n,response:i,supportProgress:!1},e.onComplete(o))}catch(u){i=""}finally{}})},i=new v,i};var C=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._swfAppendAddtionalData=function(e){e.queueData={files:{},filesSelected:0,filesQueued:0,filesReplaced:0,filesCancelled:0,filesErrored:0,uploadsSuccessful:0,uploadsErrored:0,averageSpeed:0,queueLength:0,queueSize:0,uploadSize:0,queueBytesUploaded:0,uploadQueue:[],errorMsg:""},e.widget=this},n.prototype._swfGetHandlers=function(){var e=this,n=e.element;return{onSelect:function(t){var n=this,r={};if(e._trigger("change",null,t)===!1)return!1;e._createFileRow(t),this.queueData.queueSize+=t.size,this.queueData.files[t.id]=t},onSelectError:function(e,t){t==SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT?alert("File size exceeds the limitation!"):t==SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED&&alert("Too many files!")},onDialogOpen:function(){this.queueData.filesReplaced=0,this.queueData.filesCancelled=0},onDialogClose:function(t,n,r){var i=this.settings;this.queueData.filesErrored=t-n,this.queueData.filesSelected=t,this.queueData.filesQueued=n-this.queueData.filesCancelled,this.queueData.queueLength=r,e.isStartUpload=!1,e.options.autoSubmit&&(e.uploadAll=!0,e._swfUploadFile()),i.onDialogClose&&i.onDialogClose.call(this,this.queueData)},onUploadStart:function(t){this.bytesLoaded=0,this.queueData.uploadQueue.length==0&&(this.queueData.uploadSize=t.size);if(!e.isStartUpload&&e.uploadAll){if(e._trigger("totalUpload",null,null)===!1)return this.cancelUpload(),!1;e.isStartUpload=!0}if(e._trigger("upload",null,t)===!1)return this.cancelUpload(t.id),!1},onUploadProgress:function(r,i,s){var o=t("#"+r.id,n),u,a,f=Math.round(i/s*100),l=t("."+m,o),c={sender:r.name,loaded:i,total:s},h=this.queueData;l.html(f+"%"),e._trigger("progress",null,c),u=h.queueBytesUploaded+i,a=h.queueSize,e._updateSwfProgress(u,a),e._trigger("totalProgress",null,{loaded:u,total:a})},onUploadError:function(e,r,i){var s=this.settings,o=t("#"+e.id,n),u=t("."+m,o),a="Error";switch(r){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:a="HTTP Error ("+i+")";break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:a="Missing Upload URL";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:a="IO Error";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:a="Security Error";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:alert("The upload limit has been reached ("+i+")."),a="Exceeds Upload Limit";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:a="Failed";break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:a="Validation Error";break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:a="Cancelled",this.queueData.queueSize-=e.size,this.queueData.queueLength-=1;if(e.status==SWFUpload.FILE_STATUS.IN_PROGRESS||t.inArray(e.id,this.queueData.uploadQueue)>=0)this.queueData.uploadSize-=e.size;s.onCancel&&s.onCancel.call(this,e),delete this.queueData.files[e.id];break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:a="Stopped"}u.text(a);var f=this.getStats();this.queueData.uploadsErrored=f.upload_errors},onUploadSuccess:function(r,i,s){var o=this.getStats();this.queueData.uploadsSuccessful=o.successful_uploads,this.queueData.queueBytesUploaded+=r.size,this.queueData.response=s;var u=t("#"+r.id,n),a=this;a.queueData.queueLength-=1,u.fadeOut(1500,function(){u.remove(),e.options.showUploadedFiles&&e._createUploadedFiles(r.name),a.queueData.queueLength||e.commandRow.hide()}),e._trigger("complete",null,{response:s})},onUploadComplete:function(t,n,r){var i=this;!i.queueData.queueLength&&e.uploadAll&&(e._cleanSwfProgress(),e._trigger("totalComplete",null,i.queueData)),e.uploadAll&&e._swfUploadFile()}}},n.prototype._cleanSwfProgress=function(){},n.prototype._updateSwfProgress=function(e,t){},n.prototype._initSwfUploadOptions=function(e,n){var r=this,i=r.element,s,o=r._swfGetHandlers(),u=r.options,a=r.options.swfUploadOptions,f=i.attr("id"),l=f+"_SWFUpload";return t("<input type='file' id='"+l+"'>").appendTo(i),s=t.extend({id:l,swf:"SWFUpload.swf",auto:!1,buttonClass:"",buttonCursor:"hand",buttonImage:null,checkExisting:!1,debug:!1,fileObjName:"Filedata",fileSizeLimit:u.maximumFileSize?u.maximumFileSize:0,fileTypeDesc:"All Files",fileTypeExts:u.accept?u.accept:"*.*",height:n,itemTemplate:!1,method:"post",multi:u.multiple,formData:{},preventCaching:!0,progressData:"percentage",queueID:!1,queueSizeLimit:u.maximumFiles?u.maximumFiles:999,removeCompleted:!0,removeTimeout:3,requeueErrors:!1,successTimeout:30,uploadLimit:0,width:e,uploader:u.action,overrideEvents:[]},a),{assume_success_timeout:s.successTimeout,button_placeholder_id:s.id,button_width:s.width,button_height:s.height,button_text:null,button_text_style:null,button_text_top_padding:0,button_text_left_padding:0,button_action:u.multiple?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE,button_disabled:!1,button_cursor:s.buttonCursor=="arrow"?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,debug:s.debug,requeue_on_error:s.requeueErrors,file_post_name:s.fileObjName,file_size_limit:s.fileSizeLimit,file_types:s.fileTypeExts,file_types_description:s.fileTypeDesc,file_queue_limit:s.queueSizeLimit,file_upload_limit:s.uploadLimit,flash_url:s.swf,prevent_swf_caching:s.preventCaching,post_params:s.formData,upload_url:s.uploader,use_query_string:s.method=="get",file_dialog_complete_handler:o.onDialogClose,file_dialog_start_handler:o.onDialogOpen,file_queued_handler:o.onSelect,file_queue_error_handler:o.onSelectError,swfupload_loaded_handler:s.onSWFReady,upload_complete_handler:o.onUploadComplete,upload_error_handler:o.onUploadError,upload_progress_handler:o.onUploadProgress,upload_start_handler:o.onUploadStart,upload_success_handler:o.onUploadSuccess}},n.prototype._createSWFUpload=function(){var e=this,n=e.element,r=e.addBtn,i,s=e.options.swfUploadOptions,o,u=r.width(),a=r.height(),f=swfobject.getFlashPlayerVersion(),l=f.major>=9;l?(i=e._initSwfUploadOptions(u,a),o=new SWFUpload(i),e.swfupload=o,t("#"+o.movieName).css({position:"absolute","z-index":100,top:0,left:0,width:u,height:a}),e._swfAppendAddtionalData(o)):(alert("Please install flash player."),s&&s.onFallback&&s.onFallback.call())},n.prototype._create=function(){var e=this,n=e.options,r=(new Date).getTime(),i=e.supportXhr();window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),e.filesLen=0,e.totalUploadFiles=0,e.useXhr=i,e.id=r,e._createContainers(),e._createUploadButton(),n.enableSWFUploadOnIE&&t.browser.msie||n.enableSWFUpload?e._createSWFUpload():e._createFileInput(),e._bindEvents(),n.disabled&&e.disable(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e._applyInputPosition(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijupload")},n.prototype._setOption=function(e,n){var r=this;t.Widget.prototype._setOption.apply(this,arguments),e==="disabled"?r._handleDisabledOption(n,r.upload):e==="accept"&&r.input&&r.input.attr("accept",n)},n.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype._createDisabledDiv=function(e){var n=this,r,i=e?e:n.upload,s=i.offset(),o=i.outerWidth(),u=i.outerHeight();return r=t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:o,height:u,left:s.left,top:s.top}),t.browser.msie&&(r.css("background-color","white"),parseInt(t.browser.version)>=9&&r.css("opacity","0.1")),r},n.prototype.destroy=function(){var e=this;e.upload.removeClass(r),e.upload.undelegate(e.widgetName).undelegate("."+e.widgetName),e.input.remove(),e.addBtn.remove(),e.filesList.remove(),e.commandRow.remove(),e.isCreateByInput===!0&&e.element.css({display:""}).unwrap(),e.uploaders&&(t.each(e.uploaders,function(e,t){t.destroy&&t.destroy(!0),t=null}),e.uploaders=null),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null)},n.prototype.widget=function(){return this.upload},n.prototype.supportXhr=function(){var e=!1;return typeof (new XMLHttpRequest).upload=="undefined"?e=!1:e=!0,e},n.prototype._createContainers=function(){var e=this,n,i,s=e.element;if(s.is(":input")&&s.attr("type")==="file")e.isCreateByInput=!0,e.maxDisplay=s.attr("multiple")||e.options.multiple?0:1,e.upload=s.css({display:"none"}).wrap("<div>").parent();else{if(!e.element.is("div"))throw'The initial markup must be "DIV", "INPUT[type=file]"';e.maxDisplay=e.options.multiple?0:1,e.upload=s}e.upload.addClass(r),n=t("<ul>").addClass(o).appendTo(e.upload),i=t("<div>").addClass(u).appendTo(e.upload),e.filesList=n,i.hide(),e.commandRow=i,e._createCommandRow(i)},n.prototype._createCommandRow=function(e){var n=this,r=t("<a>").attr("href","#").text("uploadAll").addClass(a).button({icons:{primary:"ui-icon-circle-arrow-n"},label:n._getLocalization("uploadAll","Upload All")}),i=t("<a>").attr("href","#").text("cancelAll").addClass(f).button({icons:{primary:"ui-icon-cancel"},label:n._getLocalization("cancelAll","Cancel All")});e.append(r).append(i)},n.prototype._getLocalization=function(e,t){var n=this.options.localization;return n&&n[e]||t},n.prototype._createUploadButton=function(){var e=this,n=t("<a>").attr("href","#").button({label:e._getLocalization("uploadFiles","Upload files")});n.mousemove(function(t){var r=n.data("uiButton").options.disabled;if(e.input){var i=t.pageX,s=t.pageY;r||e.input.offset({left:i+10-e.input.width(),top:s+10-e.input.height()})}}),e.addBtn=n,e.upload.prepend(n)},n.prototype._applyInputPosition=function(){var e=this,t=e.addBtn,n=t.offset(),r=e.cuurentInput;r.offset({left:n.left+t.width()-r.width(),top:n.top}).height(t.height())},n.prototype._createFileInput=function(){var e=this,n=e.addBtn,r=n.offset(),i=e.element.attr("accept")||e.options.accept,s="wijUpload_"+e.id+"_input"+e.filesLen,o=t("<input>").attr("type","file").prependTo(e.upload),u=e.options.maximumFiles||e.maxDisplay;u!==1&&e.maxDisplay===0&&o.attr("multiple","multiple"),i&&o.attr("accept",i),e.cuurentInput=o,e.filesLen++,o.attr("id",s).attr("name",s).css("position","absolute").offset({left:r.left+n.width()-o.width(),top:r.top}).css("z-index","9999").css("opacity",0).height(n.height()).css("cursor","pointer"),e.input=o,o.bind("change",function(n){var r,i;if(e._trigger("change",n,t(this))===!1)return!1;e._createFileInput(),r=e._createFileRow(t(this)),e._setAddBtnState(),e.options.autoSubmit&&(i=t(h,r),i&&i.click()),o.unbind("change")}),e.uploadAll=!1},n.prototype._createUploadedFiles=function(e){},n.prototype._setAddBtnState=function(){var e=this,n=e.options.maximumFiles||e.maxDisplay,r=e.addBtn,i;if(!n)return;if(!r)return;e.maskDiv||(e.maskDiv=t("<div></div>").css("position","absolute").css("z-index","9999").width(r.outerWidth()).height(r.outerHeight()).appendTo(e.upload).offset(r.offset())),i=t("li",e.filesList),i.length>=n?(r.button({disabled:!0}),e.maskDiv.show(),e.input&&e.input.css("left","-1000px")):(r.button({disabled:!1}),e.maskDiv.hide())},n.prototype._createFileRow=function(e){var n=this,r=n.options,o=t("<li>"),u="",a,f,h,d=t("<span>").addClass(l),g=t("<a>").attr("href","#").text("upload").addClass(c).button({text:!1,icons:{primary:"ui-icon-circle-arrow-n"},label:n._getLocalization("upload","upload")}),E=t("<a>").attr("href","#").text("cancel").addClass(p).button({text:!1,icons:{primary:"ui-icon-cancel"},label:n._getLocalization("cancel","cancel")});return o.addClass(i).addClass(y).addClass(b),r.enableSWFUploadOnIE&&t.browser.msie||r.enableSWFUpload?(u=e.name,o.attr("id",e.id).data("file",e)):(o.append(e),e.hide(),u=T(e[0])),a=t("<span>"+u+"</span>").addClass(v).addClass(w).addClass(b),o.append(a),o.append(d),f=t("<span />").addClass(m),d.append(f),d.append(g).append(E),o.appendTo(n.filesList),h=t(s,n.upload),h.length&&(n.commandRow.show(),(!r.enableSWFUploadOnIE||!t.browser.msie)&&!r.enableSWFUpload&&n._createUploader(o),n._resetProgressAll()),o},n.prototype._createUploader=function(e){var n=this,r=t("input",e),i=n.options.action,s=n.options.handleRequest,o;n.useXhr?(o=E(n.id,e,i),o.handleRequest=function(e,r){t.isFunction(s)&&s.call(n,e,r)}):o=S(n.id,e,i),o.onCancel=function(){var e=this;n._trigger("cancel",null,e.inputFile),n.totalUploadFiles===0&&n.uploadAll&&n._trigger("totalComplete")},n._wijUpload()&&(o.onProgress=function(e){var r=t("."+m,this.fileRow),i={sender:e.fileName,loaded:e.loaded,total:e.total,fileNameList:undefined},s=this.inputFile.attr("id");e.supportProgress?(r.html(Math.round(1e3*e.loaded/e.total)/10+"%"),e.fileNameList&&(i.fileNameList=e.fileNameList),n._trigger("progress",null,i),n._progressTotal(s,e.loaded)):r.addClass(g)},o.onComplete=function(e){var r=this,i=r.inputFile.attr("id"),s=n.uploaders[i],o=N(r.inputFile[0]),u=t("."+m,r.fileRow);n._trigger("complete",e.e,r.inputFile),u.removeClass(g),u.html("100%"),n._removeFileRow(r.fileRow,s,!0),n._progressTotal(i,o),n.totalUploadFiles--,n.totalUploadFiles===0&&(n.uploadAll||n.options.autoSubmit)&&n._trigger("totalComplete",e.e,e)}),typeof n.uploaders=="undefined"&&(n.uploaders={}),n.uploaders[r.attr("id")]=o},n.prototype._progressTotal=function(e,t){var n=this,r=n.progressAll,i,s;if(!n.uploadAll)return;r&&r.loadedSize&&(r.loadedSize[e]=t,i=n._getLoadedSize(r.loadedSize),s=r.totalSize),n._trigger("totalProgress",null,{loaded:i,total:s})},n.prototype._getLoadedSize=function(e){var n=0;return t.each(e,function(e,t){n+=t}),n},n.prototype._getTotalSize=function(){var e=this,n=0;return e.uploaders&&t.each(e.uploaders,function(e,t){n+=N(t.inputFile[0])}),n},n.prototype._resetProgressAll=function(){this.progressAll={totalSize:0,loadedSize:{}}},n.prototype._wijUpload=function(){return!0},n.prototype._wijcancel=function(e){},n.prototype._upload=function(e,t){},n.prototype._swfUploadFile=function(e){this.swfupload.startUpload(e)},n.prototype._bindEvents=function(){var e=this,n=e.options,r=e.progressAll;e.upload.delegate(d,"click."+e.widgetName,function(i){var o=t(this),u=o.parents(s),a,f;if(n.enableSWFUploadOnIE&&t.browser.msie||n.enableSWFUpload){var l=u.data("file");e.swfupload.cancelUpload(l.id),u.fadeOut(1500,function(){u.remove(),e.swfupload.queueData.queueLength==0&&e.commandRow.hide()})}else a=t("input",u[0]),f=e.uploaders[a.attr("id")],e._wijcancel(a),e._wijUpload()&&f&&f.cancel(),r&&(r.totalSize-=N(a[0]),r.loadedSize[a.val()]&&delete r.loadedSize[a.val()]),e._removeFileRow(u,f,!1)}),e.upload.delegate(h,"click."+e.widgetName,function(r){var i=t(this),o=i.parents(s),u,a;if(n.enableSWFUploadOnIE&&t.browser.msie||n.enableSWFUpload){var f=o.data("file");e.uploadAll=!1,e._wijUpload()?e._swfUploadFile(f.id):e._upload(f.id,!0)}else{u=t("input",o[0]),a=e.uploaders[u.attr("id")];if(e._trigger("upload",r,u)===!1)return!1;if(e.options.autoSubmit){a.autoSubmit=!0;if(e._trigger("totalUpload",r,null)===!1)return!1}e.totalUploadFiles++,e._upload(o),a&&e._wijUpload()&&a.upload()}r.preventDefault()}),e.upload.delegate("."+a,"click."+e.widgetName,function(r){if(n.enableSWFUploadOnIE&&t.browser.msie||n.enableSWFUpload)e.uploadAll=!0,e._wijUpload()?e._swfUploadFile():e._upload(!0,!0);else{e.uploadAll=!0,e.progressAll||e._resetProgressAll();if(e._trigger("totalUpload",r,null)===!1)return!1;e.progressAll.totalSize=e._getTotalSize(),e._wijuploadAll(t(h,e.filesList[0])),e._wijUpload()&&t(h,e.filesList[0]).each(function(e,n){return t(n).click(),e})}}),e.upload.delegate("."+f,"click."+e.widgetName,function(r){n.enableSWFUploadOnIE&&t.browser.msie||n.enableSWFUpload?(t.each(e.swfupload.queueData.files,function(t,n){e.swfupload.cancelUpload(t)}),t(s,e.element).fadeOut(1500,function(){t(this).remove(),e.commandRow.hide()})):(e._resetProgressAll(),t(d,e.filesList[0]).each(function(e,n){t(n).click()}))})},n.prototype._wijuploadAll=function(e){},n.prototype._wijFileRowRemoved=function(e,t,n){this._setAddBtnState()},n.prototype._removeFileRow=function(e,n,r){var i=this,o,u;n&&(o=n.inputFile.attr("id")),e.fadeOut(1500,function(){e.remove(),i._wijFileRowRemoved(e,n.inputFile,r),i.uploaders[o]&&delete i.uploaders[o],u=t(s,i.upload),u.length?(i.commandRow.show(),n&&n.destroy&&n.destroy()):(i.commandRow.hide(),i._resetProgressAll(),n&&n.destroy&&n.destroy(!0))})},n.prototype._getFileName=function(e){return x(e)},n.prototype._getFileNameByInput=function(e){return T(e)},n.prototype._getFileSize=function(e){return N(e)},n}(e.wijmoWidget);e.wijupload=C;var k="wijmo-wijupload",L=k+"-";C.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{action:"",autoSubmit:!1,change:null,upload:null,totalUpload:null,progress:null,totalProgress:null,complete:null,totalComplete:null,maximumFiles:0,multiple:!0,accept:"",enableSWFUploadOnIE:!1,enableSWFUpload:!1,swfUploadOptions:{},localization:{},handleRequest:null}),t.wijmo.registerWidget("wijupload",C.prototype)})(wijmo||(wijmo={}));