var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijradio",r="wijmo-wijradio",i=0,s=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n=e.element,r=e.options.wijCSS,s,o,u,a,f,l;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),n.is(":radio")&&(n.attr("id")||(n.attr("id","wijmo-radio-"+i),i+=1),n.parent().is("label")?(o=n.parent().wrap(t("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),u=n.parent(),u.attr("for",n.attr("id")),o.find("."+r.wijradioInputwrapper).append(n),o.append(u)):o=n.wrap(t("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),a=t("label[for='"+n.attr("id")+"']"),a.length>0&&(o.append(a),a.attr("labelsign","wij")),n.is(":disabled")&&e._setOption("disabled",!0),f=t("<div></div>").addClass(r.wijradioBox).addClass(r.widget).addClass(e.options.disabled?r.stateDisabled:r.stateDefault).addClass(r.cornerAll).append(t("<span></span>").addClass(r.wijradioIcon)),l=f.children("."+r.wijradioIcon),o.append(f),l.addClass(r.icon).addClass(r.iconRadioOn),n.data("iconElement",l),n.data("boxElement",f),n.data("radiobuttonElement",o),f.removeClass(r.wijradioRelative).attr("role","radio").bind("mouseover",function(){n.mouseover(null)}).bind("mouseout",function(){n.mouseout(null)}),(a.length===0||a.html()==="")&&f.addClass(r.wijradioRelative),e._setDefaul(),n.bind("click.radio",function(){if(e.options.disabled)return;s=e.options.checked,e._refresh(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateDefault).addClass(r.stateFocus)}).bind("blur.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateFocus).not("."+r.stateHover).addClass(r.stateDefault)}),o.click(function(){if(e.options.disabled)return;if(a.length===0||a.html()==="")s=e.options.checked,n.attr("checked",!0),e._refresh(),n.change(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}),o.bind("mouseover.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateDefault).addClass(r.stateHover)}).bind("mouseout.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateHover).not("."+r.stateFocus).addClass(r.stateDefault)}),o.attr("title",n.attr("title")))},n.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.attr("checked",n),r._refresh(),i!==n&&r._trigger("changed",null,{checked:n}))},n.prototype._setDefaul=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&this.element.attr("checked",t.checked),this.element.attr("checked")&&(this.element.parents("."+t.wijCSS.wijradio).find("."+t.wijCSS.wijradioBox).children().removeClass(t.wijCSS.iconRadioOn).addClass(t.wijCSS.iconRadioOff),this.element.data("boxElement").removeClass(t.wijCSS.stateDefault).addClass(t.wijCSS.stateActive).attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass(t.wijCSS.stateChecked))},n.prototype._refresh=function(){var e=this.element.attr("name")||"",n=this,r=n.options.wijCSS,i;if(e==="")return;t("[name='"+e+"']").each(function(e,s){return t(s).parents("."+r.wijradio).find("."+r.wijradioBox).children().removeClass(r.iconRadioOff).addClass(r.iconRadioOn),t(s).parents("."+r.wijradio).find("."+r.wijradioBox).removeClass(r.stateActive).addClass(r.stateDefault).attr("aria-checked",!1),t(s).parents("."+r.wijradio).removeClass(r.stateChecked),i=t(s).parents("."+r.wijradio).find(":radio"),i.wijradio("option","checked")&&i[0]!==n.element[0]&&i.wijradio("setCheckedOption",!1),this}),n.element.is(":checked")&&(n.element.data("iconElement").removeClass(r.iconRadioOn).addClass(r.iconRadioOff),n.element.data("boxElement").removeClass(r.stateDefault).addClass(r.stateActive).attr("aria-checked",!0),n.element.data("radiobuttonElement").addClass(r.stateChecked)),n.options.checked=n.element.is(":checked")},n.prototype.setCheckedOption=function(e){var t=this,n=t.options;n.checked!==null&&n.checked!==e&&(n.checked=e,t._trigger("changed",null,{checked:e}))},n.prototype.refresh=function(){this._refresh()},n.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijradioBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},n}(e.wijmoWidget);e.wijradio=s,s.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijradio')",wijCSS:{wijradio:"wijmo-wijradio",wijradioBox:"wijmo-wijradio-box",wijradioIcon:"wijmo-wijradio-icon",wijradioInputwrapper:"wijmo-wijradio-inputwrapper",wijradioRelative:"wijmo-wijradio-relative"},checked:null,changed:null}),t.wijmo.registerWidget(n,s.prototype)})(wijmo||(wijmo={}));