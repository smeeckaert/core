(function(e){"use strict";var t,n,r;t=function(e){var t=this;t.data={},t.reader=null,t.proxy=null,t.items=[],t.loading=null,t.loaded=null,t._constructor(e)},window.wijdatasource=t,e.extend(t.prototype,{_constructor:function(t){e.extend(this,t)},load:function(t,n){var r=this,i=r.proxy;if(e.isFunction(r.loading)&&r.loading(r,t)===!1)return;i?i.request(r,r.loaded,t):((r.items.length===0||n)&&this.read(),e.isFunction(r.loaded)&&r.loaded(r,t))},read:function(){var e=this,t=e.data;t&&e.reader?e.reader.read(e):e.items=e.data}}),n=function(t){e.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(t),e.isArray(t)&&(this.fields=t)},window.wijarrayreader=n,e.extend(n.prototype,{read:function(t){e.isArray(t.data)?t.items=this._map(t.data):t.items=[]},_map:function(t){var n=this,r=[];return n.fields===undefined||n.fields.length===0?(e.extend(!0,r,t),r):(e.each(t,function(t,i){var s={};e.each(n.fields,function(t,n){n.mapping&&typeof n.mapping&&window[n.mapping]&&(n.mapping=window[n.mapping]);if(e.isFunction(n.mapping))return s[n.name]=n.mapping(i),!0;var r=n.mapping!==undefined?n.mapping:n.name,o=i[r];o===undefined&&(n.defaultValue!==undefined?o=n.defaultValue:o=i),s[n.name]=o}),r.push(s)}),r)}}),r=function(t){this.options=t,e.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(t)},window.wijhttpproxy=r,e.extend(r.prototype,{request:function(t,n,r){var i=this,s=e.extend({},this.options),o=s.success;s.success=function(u){e.isFunction(o)&&o(u),i._complete(u,t,n,s,r)},e.ajax(s)},_complete:function(t,n,r,i,s){n.data=i.key!==undefined?t[i.key]:t,n.read(),e.isFunction(r)&&r(n,s)}})})(jQuery);