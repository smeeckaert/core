var __extends=this.__extends||function(e,a){function c(){this.constructor=e}c.prototype=a.prototype;e.prototype=new c()};var wijmo;(function(g){var e=jQuery;var f=(function(n){__extends(m,n);function m(){n.apply(this,arguments)}return m})(g.wijmoWidget);g.wijsuperpanel=f;if(!e.support.isTouchEnabled||!e.support.isTouchEnabled()){var a="wijmo-wijsuperpanel-handle",j="wijmo-wijsuperpanel-hbarcontainer",l="wijmo-wijsuperpanel-vbarcontainer",d="",b="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",c="<div class='wijmo-wijsuperpanel-hbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",i="<div class='wijmo-wijsuperpanel-vbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",h="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonleft'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonright'><span class='{icon} {iconCaratRight}'></span></div>",k="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttontop'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonbottom'><span class='{icon} {iconCaratDown}'> </span></div>";f.prototype=e.extend(true,{},e.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(p,t){var m=this,v=m.options,s=m._fields(),u=s.hbarDrag,n=s.vbarDrag,q=s.resizer;if(p==="animationOptions"){t=e.extend(v.animationOptions,t)}else{if(p==="hScroller"){if(t.scrollLargeChange!==undefined&&t.scrollLargeChange!==null){m._autoHLarge=false}t=e.extend(v.hScroller,t);m.refresh()}else{if(p==="vScroller"){if(t.scrollLargeChange!==undefined&&t.scrollLargeChange!==null){m._autoVLarge=false}t=e.extend(v.vScroller,t);m.refresh()}else{if(p==="resizableOptions"){t=e.extend(m.resizableOptions,t)}}}}e.Widget.prototype._setOption.apply(m,arguments);if(e.isPlainObject(t)){m.options[p]=t}switch(p){case"allowResize":m._initResizer();break;case"disabled":if(t){if(u!==undefined){u.draggable("disable")}if(n!==undefined){n.draggable("disable")}if(q!==undefined){q.resizable("disable")}}else{if(u!==undefined){u.draggable("enable")}if(n!==undefined){n.draggable("enable")}if(q!==undefined){q.resizable("enable")}}break;case"mouseWheelSupport":case"keyboardSupport":m._bindElementEvents(m,s,m.element,v);break}return m},_create:function(){var m=this,n=m.options;n.vScroller.dir="v";n.hScroller.dir="h";m._initMarkup();if(window.wijmoApplyWijTouchUtilEvents){e=window.wijmoApplyWijTouchUtilEvents(e)}m.paintPanel();m._initResizer();if(m.options.disabled){m.disable()}m._detectAutoRefresh();if(n.listenContentScroll){m._listenContentScroll()}if(m.element.is(":hidden")&&m.element.wijAddVisibilityObserver){m.element.wijAddVisibilityObserver(function(){if(m.element.wijRemoveVisibilityObserver){m.element.wijRemoveVisibilityObserver()}m.refresh()},"wijsuperpanel")}},_initMarkup:function(){var m=this.options.wijCSS,n=/\{(\w+?)\}/ig,o=function(q,p){return m[p]};d=m.stateActive;c=c.replace(n,o);i=i.replace(n,o);h=h.replace(n,o);k=k.replace(n,o)},_detectAutoRefresh:function(){var m=this,n=e.wijmo.wijsuperpanel.panels;if(n===undefined){n=[];e.wijmo.wijsuperpanel.panels=n}n.push(m);if(m.options.autoRefresh){if(!e.wijmo.wijsuperpanel.setAutoRefreshInterval){e.wijmo.wijsuperpanel.setAutoRefreshInterval=m._setAutoRefreshInterval;e.wijmo.wijsuperpanel.setAutoRefreshInterval()}}},_setAutoRefreshInterval:function(){var m=e.wijmo.wijsuperpanel.autoRereshInterval,n=e.wijmo.wijsuperpanel.panels,o=window.setInterval(function(){window.clearInterval(o);var s=n.length,u=false,r,p,w,q,t,v;for(r=0;r<s;r++){p=n[r];w=p.element[0];q=p.options.autoRefresh;if(q){u=true}t=p.getContentElement();v=p._paintedMark;if(p.options.autoRefresh&&t.is(":visible")&&(v===undefined||v.width!==t[0].offsetWidth||v.height!==t[0].offsetHeight||v.mainWidth!==w.offsetWidth||v.mainHeight!==w.offsetHeight)){p.paintPanel()}}if(u){window.setTimeout(e.wijmo.wijsuperpanel.setAutoRefreshInterval,0)}},m===undefined?500:m)},destroy:function(){var m=this,q=m._fields(),p=m.element,o,n,r=m.options.wijCSS;e.wijmo.wijsuperpanel.panels=e.grep(e.wijmo.wijsuperpanel.panels,function(s){return s!==m},false);if(!q.initialized){return}if(m._radiusKey){m.element.css(m._radiusKey,"")}if(q.intervalID!==undefined){window.clearInterval(q.intervalID);q.intervalID=undefined}if(q.resizer!==undefined){q.resizer.resizable("destroy")}if(q.hbarContainer!==undefined){q.hbarDrag.remove();q.hbarContainer.unbind("."+m.widgetName)}if(q.vbarContainer!==undefined){q.vbarDrag.remove();q.vbarContainer.unbind("."+m.widgetName)}p.unbind("."+m.widgetName);q.contentWrapper.unbind("."+m.widgetName);o=q.stateContainer.find(">.wijmo-wijsuperpanel-button");o.unbind("."+m.widgetName);n=q.templateWrapper;n.contents().each(function(s,t){p.append(t)});q.stateContainer.remove();if(q.tabindex){p.removeAttr("tabindex")}p.removeClass(["wijmo-wijsuperpanel",r.widget,r.content,r.cornerAll].join(" "));e.Widget.prototype.destroy.apply(m,arguments)},_fields:function(){var m=this,o=m.element,n=m.widgetName+"-fields",p=m._fieldsStore;if(p===undefined){p={};o.data(n,p);m._fieldsStore=p}return p},_hasMode:function(m,o){var n=m.scrollMode.split(",");n=e.map(n,function(p){return e.trim(p).toLowerCase()});return e.inArray(o.toLowerCase(),n)>-1},_bindElementEvents:function(n,s,r,t){var m=n._hasMode(t.hScroller,"edge"),q=n._hasMode(t.vScroller,"edge"),p=n.widgetName;if(m||q){if(n._mousemoveBind===undefined){n._mousemoveBind=true;r.bind("mousemove."+p,n,n._contentMouseMove);r.bind("mouseleave."+p,null,function(){n._clearInterval()})}}else{r.unbind("mousemove",n._contentMouseMove);n._mousemoveBind=undefined}if(t.mouseWheelSupport){if(n._mouseWheelBind===undefined){n._mouseWheelBind=true;r.bind("mousewheel."+p,n,n._panelMouseWheel)}}else{n.element.unbind("mousewheel",n._panelMouseWheel);n._mouseWheelBind=undefined}if(t.keyboardSupport){if(n._keyboardBind===undefined){n._keyboardBind=true;r.bind("keydown."+p,n,n._panelKeyDown)}}else{r.unbind("keydown",n._panelKeyDown);n._keyboardBind=undefined}},_dragStop:function(p,m,n){var o={dragHandle:n};m._trigger("dragStop",p,o)},_contentMouseMove:function(B){var u=B.data,w=u.options,q,m,r,A,C,t,E,D,n,s,y,p,z,x,v;if(w.disabled){return}q=w.hScroller;m=w.vScroller;r=e(B.currentTarget);A=u._fields();C=u._hasMode(q,"edge");t=u._hasMode(m,"edge");u._clearInterval();E={X:B.pageX,Y:B.pageY};D=r.offset();n=D.left;s=D.top;n=E.X-n;s=E.Y-s;y=q.hoverEdgeSpan;p=m.hoverEdgeSpan;z=r.innerHeight();x=r.innerWidth();v="";if(C){if(n<y){v="left"}if(n>(x-y)){v="right"}}if(t){if(s<p){v="top"}if(s>(z-p)){v="bottom"}}u._setScrollingInterval(A,v,u,false)},_setScrollingInterval:function(q,n,m,p){var r=m.options;if(n.length>0){q.internalFuncID=window.setInterval(function(){m._doScrolling(n,m,p)},r.keyDownInterval)}},_scrollButtonMouseOver:function(p){var m=p.data,q=m.options,n;if(q.disabled){return}n=e(p.currentTarget);if(!n.hasClass(q.wijCSS.stateDisabled)){n.bind("mouseout."+m.widgetName,m,m._buttonMouseOut).bind("mousedown."+m.widgetName,m,m._buttonMouseDown).bind("mouseup."+m.widgetName,m,m._buttonMouseUp).addClass(q.wijCSS.stateHover);m._buttonScroll(n,m,"buttonshover")}},_buttonScroll:function(q,m,t){var p="",s=m.options,r=m._fields(),n=m._hasMode(s.hScroller,t),u=m._hasMode(s.vScroller,t);if(q.hasClass("wijmo-wijsuperpanel-buttonleft")&&n){p="left"}else{if(q.hasClass("wijmo-wijsuperpanel-buttonright")&&n){p="right"}else{if(q.hasClass("wijmo-wijsuperpanel-buttontop")&&u){p="top"}else{if(q.hasClass("wijmo-wijsuperpanel-buttonbottom")&&u){p="bottom"}}}}if(p.length>0){m._clearInterval();m._doScrolling(p,m,true);m._setScrollingInterval(r,p,m,true)}},_listenContentScroll:function(){var D=this,q=D.options,y=D._fields(),x=y.hbarContainer,s=y.hbarDrag,A=y.vbarContainer,z=y.vbarDrag,r=y.templateWrapper,v=y.contentWrapper,C=v.width(),u=v.height(),t=r&&r.offset(),p=t&&t.left,n=t&&t.top,m=y.contentWidth,B=y.contentHeight;v.bind("scroll",function(w){var F=r.position(),o=F.left,E=F.top;v.scrollTop(0).scrollLeft(0);r.css({left:o,top:E});if(o<=0&&o>C-m){q.hScroller.scrollValue=D.scrollPxToValue(-o,"h");D._scrollDrag("h",x,s,true)}if(E<=0&&E>u-B){q.vScroller.scrollValue=D.scrollPxToValue(-E,"v");D._scrollDrag("v",A,z,true)}})},_buttonMouseDown:function(o){var m=o.data,n,p=m.options.wijCSS;if(m.options.disabled){return}n=e(o.currentTarget);if(!n.hasClass(p.stateDisabled)){n.addClass(p.stateActive);m._buttonScroll(n,m,"buttons")}},_buttonMouseUp:function(o){var m=o.data,n=e(o.currentTarget);n.removeClass(m.options.wijCSS.stateActive);m._clearInterval()},_buttonMouseOut:function(o){var m=o.data,p=m.options.wijCSS,n=e(o.currentTarget);n.unbind("mouseout",m._buttonMouseOut).unbind("mousedown",m._buttonMouseDown).unbind("mouseup",m._buttonMouseUp).removeClass(p.stateHover).removeClass(p.stateActive);m._clearInterval()},getKeyCodeEnum:function(){if(e.ui&&e.ui.keyCode){return e.ui.keyCode}if(e.mobile&&e.mobile.keyCode){return e.mobile.keyCode}throw"keyCode object is not found"},_panelKeyDown:function(r){var p=r.data,s=p.options,n,m,q=p.getKeyCodeEnum();if(!s.keyboardSupport||s.disabled){return}n=r.shiftKey;m=r.keyCode;if(m===q.LEFT){p._doScrolling("left",p,n)}else{if(m===q.RIGHT){p._doScrolling("right",p,n)}else{if(m===q.UP){p._doScrolling("top",p,n)}else{if(m===q.DOWN){p._doScrolling("bottom",p,n)}}}}r.stopPropagation();r.preventDefault()},_draggingInternal:function(t,B,w,z){var q=w.dir,u=q==="h",y=u?"left":"top",p=t.position[y]-B._getScrollContainerPadding(y),n=B._getTrackLen(q)-z[u?"outerWidth":"outerHeight"](true),s=p/n,r=(w.scrollMax-w.scrollLargeChange+1),x=s*r,A,m,o;if(x<w.scrollMin){x=w.scrollMin}if(x>r){x=r}A={oldValue:w.scrollValue,newValue:x,dir:q};if(!B._scrolling(true,B,A)){return}if(B.customScroll){o=Math.abs(B.customScroll);m=B.scrollPxToValue(o,w.dir)}w.scrollValue=m||x;B.customScroll=undefined;B._setDragAndContentPosition(true,false,q,"dragging")},_dragging:function(s,q,n){var t=n.options,m=e(s.target),r=m.parent();if(r.hasClass(j)){n._draggingInternal(q,n,t.hScroller,m)}else{n._draggingInternal(q,n,t.vScroller,m)}},_panelMouseWheel:function(s,u){var w=s.data,m=w.options,v,n,p,r,q,t;if(!m.mouseWheelSupport||m.disabled){return}v=e(s.srcElement||s.originalEvent.target);n="";p=v.closest("."+j,w.element).size()>0;r=m.hScroller;q=m.vScroller;if(u>0){n=p?"left":"top"}else{n=p?"right":"bottom"}if(n.length>0){w._doScrolling(n,w)}t=false;if(n==="left"){t=!w.hNeedScrollBar||Math.abs(r.scrollValue-r.scrollMin)<0.001}if(n==="right"){t=!w.hNeedScrollBar||Math.abs(r.scrollValue-(r.scrollMax-w._getHScrollBarLargeChange()+1))<0.001}if(n==="top"){t=!w.vNeedScrollBar||Math.abs(q.scrollValue-q.scrollMin)<0.001}if(n==="bottom"){t=!w.vNeedScrollBar||Math.abs(q.scrollValue-(q.scrollMax-w._getVScrollBarLargeChange()+1))<0.001}if(!t||!m.bubbleScrollingEvent||n==="left"||n==="right"){s.stopPropagation();s.preventDefault()}},_documentMouseUp:function(p){var m=p.data.self,q=m.options,n=p.data.ele;n.removeClass(q.wijCSS.stateActive);m._clearInterval();e(document).unbind("mouseup",m._documentMouseUp)},_scrollerMouseOver:function(q){var n=q.data,r=n.options,m,p,s;if(r.disabled){return}m=e(q.srcElement||q.originalEvent.target);p=null;s=false;if(m.hasClass(r.wijCSS.stateDefault)){p=m;s=true}else{if(m.parent().hasClass(r.wijCSS.stateDefault)){p=m.parent();s=true}else{if(m.hasClass(l)||m.hasClass(j)){p=m}}}if(p){if(s){p.addClass(r.wijCSS.stateHover)}p.bind("mouseout."+n.widgetName,n,n._elementMouseOut);p.bind("mousedown."+n.widgetName,n,n._elementMouseDown);p.bind("mouseup."+n.widgetName,n,n._elementMouseUp)}},_elementMouseUp:function(n){var m=e(n.currentTarget);m.removeClass(d)},_elementMouseDown:function(r){var w=e(r.currentTarget),v=r.data,m,u,o,n,t,q,s,p;if(v.options.disabled||r.which!==1){return}m="";u=false;o=false;if(w.hasClass("wijmo-wijsuperpanel-vbar-buttontop")){m="top";o=true}else{if(w.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom")){m="bottom";o=true}else{if(w.hasClass("wijmo-wijsuperpanel-hbar-buttonleft")){m="left";o=true}else{if(w.hasClass("wijmo-wijsuperpanel-hbar-buttonright")){m="right";o=true}else{if(w.hasClass(a)){w.addClass(d);return}else{if(w.hasClass(j)){n=w.find("."+a);t=n.offset();if(r.pageX<t.left){m="left"}else{m="right"}u=true}else{if(w.hasClass(l)){q=w.find("."+a);s=q.offset();if(r.pageY<s.top){m="top"}else{m="bottom"}u=true}}}}}}}v._clearInterval();v._doScrolling(m,v,u);p=v._fields();v._setScrollingInterval(p,m,v,u);if(o){w.addClass(d)}e(document).bind("mouseup."+v.widgetName,{self:v,ele:w},v._documentMouseUp)},doScrolling:function(m,n){this._doScrolling(m,this,n)},_setScrollerValue:function(q,u,x,n,A,y,C){var v=u.scrollMin,w=y?n:x,z=u.scrollValue,B,p,r,s,m,o;if(!z){z=v}B=0;if(A){p=u.scrollMax-n+1;if(Math.abs(z-p)<0.001){C._clearInterval();return false}r=u.firstStepChangeFix;B=z+w;if(!y&&Math.abs(z-v)<0.0001&&!isNaN(r)){B+=r}if(B>p){B=p}}else{if(Math.abs(z-v)<0.001){C._clearInterval();return false}B=z-w;if(B<0){B=v}}s={oldValue:u.scrollValue,newValue:B,direction:q,dir:u.dir};if(!C._scrolling(true,C,s)){return false}if(C.customScroll){o=Math.abs(C.customScroll);m=C.scrollPxToValue(o,u.dir)}u.scrollValue=m||B;C.customScroll=undefined;return true},_doScrolling:function(p,w,v){var n=w.options,r=n.vScroller,s=n.hScroller,q=w._getVScrollBarSmallChange(),u=w._getVScrollBarLargeChange(),t=w._getHScrollBarLargeChange(),m=w._getHScrollBarSmallChange();if(p==="top"||p==="bottom"){if(!w._setScrollerValue(p,r,q,u,p==="bottom",v,w)){return}p="v"}else{if(p==="left"||p==="right"){if(!w._setScrollerValue(p,s,m,t,p==="right",v,w)){return}p="h"}}w._setDragAndContentPosition(true,true,p)},_disableButtonIfNeeded:function(z){var t=z._fields(),m,n,q,r,A,v,w,s,u,y,B,x,p;if(t.intervalID>0){window.clearInterval(t.intervalID)}m=z.options;n=t.buttonLeft;q=t.buttonRight;r=t.buttonTop;A=t.buttonBottom;if(n!==undefined){v=z._getHScrollBarLargeChange();w=m.hScroller.scrollMax-v+1;s=m.hScroller.scrollValue;u=m.hScroller.scrollMin;if(s===undefined){s=u}if(Math.abs(s-u)<0.001||!t.hScrolling){n.addClass(m.wijCSS.stateDisabled)}else{n.removeClass(m.wijCSS.stateDisabled)}if(Math.abs(s-w)<0.001||!t.hScrolling){q.addClass(m.wijCSS.stateDisabled)}else{q.removeClass(m.wijCSS.stateDisabled)}}if(r!==undefined){y=z._getVScrollBarLargeChange();B=m.vScroller.scrollMax-y+1;x=m.vScroller.scrollValue;p=m.vScroller.scrollMin;if(x===undefined){x=p}if(Math.abs(x-p)<0.001||!t.vScrolling){r.addClass(m.wijCSS.stateDisabled)}else{r.removeClass(m.wijCSS.stateDisabled)}if(Math.abs(x-B)<0.001||!t.vScrolling){A.addClass(m.wijCSS.stateDisabled)}else{A.removeClass(m.wijCSS.stateDisabled)}}},_clearInterval:function(){var n=this._fields(),m=n.internalFuncID;if(m>0){window.clearInterval(m);n.internalFuncID=-1}},_elementMouseOut:function(n){var o=e(n.currentTarget),m=n.data;o.unbind("mouseout",m._elementMouseOut);o.unbind("mousedown",m._elementMouseDown);o.unbind("mouseup",m._elementMouseUp);o.removeClass(m.options.wijCSS.stateHover)},_getScrollOffset:function(s){var o=e(s),t,w,y,u,q,p,v,m,r,n,x={left:null,top:null};if(o.length===0){return x}t=this._fields();w=t.contentWrapper;y=t.templateWrapper;u=o.offset();q=y.offset();u.leftWidth=u.left+o.outerWidth();u.topHeight=u.top+o.outerHeight();p=w.offset();p.leftWidth=p.left+w.outerWidth();p.topHeight=p.top+w.outerHeight();r=u.left-q.left;if(u.left<p.left){x.left=r}else{if(u.leftWidth>p.leftWidth){n=u.leftWidth-q.left-w.innerWidth();if(r<n){x.left=r}else{x.left=n}}}v=u.top-q.top;if(u.top<p.top){x.top=v}else{if(u.topHeight>p.topHeight){m=u.topHeight-q.top-w.innerHeight();if(v<m){x.top=v}else{x.top=m}}}return x},_scrollDrag:function(r,u,q,m){var E=this,p=E.options,C=r==="v",x=C?p.vScroller:p.hScroller,s=x.scrollMin,z=x.scrollMax,w=x.scrollValue===undefined?s:(x.scrollValue-s),y=E._getLargeChange(r),A=z-s-y+1,D=-1,n,t,B;if(w>A){w=A}if(u!==undefined){n=E._getTrackLen(r);t=q[C?"outerHeight":"outerWidth"]();B=E._getScrollContainerPadding(C?"top":"left");D=(w/A)*(n-t)+B}if(D>=0){q.css(C?"top":"left",D+"px")}E._scrollEnd(m,E,r)},needToScroll:function(m){var n=this._getScrollOffset(m);return n.top!==null||n.left!==null},scrollChildIntoView:function(m){var p=this._getScrollOffset(m),o=p.left,n=p.top;if(o!==null){this.hScrollTo(o)}if(n!==null){this.vScrollTo(n)}},hScrollTo:function(m){var n=this.options;n.hScroller.scrollValue=this.scrollPxToValue(m,"h");this._setDragAndContentPosition(true,true,"h","nonestop")},vScrollTo:function(n){var m=this.options;m.vScroller.scrollValue=this.scrollPxToValue(n,"v");this._setDragAndContentPosition(true,true,"v","nonestop")},scrollPxToValue:function(z,p){var n=this.options,q=(p==="h"?"outerWidth":"outerHeight"),B=(p==="h"?"contentWidth":"contentHeight"),s=(p==="h"?"hScroller":"vScroller"),t=this._fields(),A=t.contentWrapper,D=t[B],y=A[q](),v=n[s].scrollMin,C=n[s].scrollMax,r=C-v,x=(p==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange()),w=r-x+1,u=w*(z/(D-y));if(u<v){u=v}if(u>w){u=w}return u},scrollTo:function(m,n){this.hScrollTo(m);this.vScrollTo(n)},refresh:function(){this.paintPanel()},paintPanel:function(n){var m=this,r=m.element,s,t,q,p;if(r.is(":visible")){s=typeof document.activeElement!="unknown"?document.activeElement:undefined;t=m.options;q=m._fields();if(!q.initialized){m._initialize(q,r,m)}m._resetLargeChange(m,q,t);m._bindElementEvents(m,q,r,t);p=q.templateWrapper;p.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"});p.hide();p.show();q.contentWidth=p.width();q.contentHeight=p.height();p.css("float","");m._setRounder(m,r);m._setInnerElementsSize(q,r);if(m._testScroll(m,q,t)===false){return false}m._initScrollBars(m,q,t);m._initScrollButtons(m,q,t);m._trigger("painted");m._paintedMark={date:new Date(),mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:q.contentWidth,height:q.contentWidth};if(s!==undefined&&!n){e(s).focus()}return true}return false},_resetLargeChange:function(m,p,q){var n;if(m._autoVLarge){q.vScroller.scrollLargeChange=null}if(m._autoHLarge){q.hScroller.scrollLargeChange=null}p.vTrackLen=undefined;p.hTrackLen=undefined;if(p.vbarContainer){n=p.vbarContainer.children("."+a+":eq(0)");n.detach();p.vbarContainer.remove();p.vbarContainer=undefined}if(p.hbarContainer){n=p.hbarContainer.children("."+a+":eq(0)");n.detach();p.hbarContainer.remove();p.hbarContainer=undefined}},_initialize:function(p,o,n){var q=n.options.wijCSS;p.initialized=true;o.addClass(["wijmo-wijsuperpanel",q.widget,q.content].join(" "));p.oldHeight=o.css("height");var m=o.css("overflow");o.css("overflow","");o.height(o.height());o.css("overflow",m);n._createAdditionalDom(n,p,o)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(B,n,t,p,v,u,m){var s=p==="h",z="mouseover."+B.widgetName,C=s?"buttonLeft":"buttonTop",y=s?"buttonRight":"buttonBottom",q=u[C],A=u[y],r,w,x;if(B._hasMode(t,"buttons")||B._hasMode(t,"buttonshover")){r=s?h:k;if(q===undefined){w=e(r).appendTo(m);w.bind(z,B,B._scrollButtonMouseOver);u[C]=q=m.children(s?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop");u[y]=A=m.children(s?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")}x={my:s?"left":"top",of:v,at:s?"left":"top",collision:"none"};e.extend(x,t.decreaseButtonPosition);q.position(x);x={my:s?"right":"bottom",of:v,at:s?"right":"bottom",collision:"none"};e.extend(x,t.increaseButtonPosition);A.position(x)}else{if(q!==undefined){q.remove();A.remove();u[C]=u[y]=undefined}}},_initScrollButtons:function(n,q,r){var m=q.contentWrapper,p=q.stateContainer;n._setButtonPosition(n,r,r.hScroller,"h",m,q,p);n._setButtonPosition(n,r,r.vScroller,"v",m,q,p)},_getVScrollBarSmallChange:function(){var n=this.options,m;if(!n.vScroller.scrollSmallChange){m=this._getVScrollBarLargeChange();n.vScroller.scrollSmallChange=m/2}return n.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(q){var E=this,p=E.options,x=E._fields(),D=q==="v",w=D?p.vScroller:p.hScroller,y=D?"innerHeight":"innerWidth",t=D?"contentHeight":"contentWidth",u=D?"_autoVLarge":"_autoHLarge",B,s,n,A,m,r,z,C;if(w.scrollLargeChange){return w.scrollLargeChange}B=w.scrollMax;s=w.scrollMin;n=B-s;A=x.contentWrapper;m=A[y]();r=x[t];z=m/(r-m);C=((n+1)*z)/(1+z);if(isNaN(C)){C=0}w.scrollLargeChange=C;E[u]=true;return w.scrollLargeChange},_getHScrollBarSmallChange:function(){var n=this.options,m;if(!n.hScroller.scrollSmallChange){m=this._getHScrollBarLargeChange();n.hScroller.scrollSmallChange=m/2}return n.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(C,H,E){var v=E.hScroller,z=v.scrollMax,x=v.scrollMin,y=z-x,p=E.vScroller,D=p.scrollMax,B=p.scrollMin,s=D-B,r=H.hbarDrag,G=H.vbarDrag,n,F,u,J,I,w,q,A,m,t;if(C.hNeedScrollBar&&r.is(":visible")){n=C._getHScrollBarLargeChange();F=C._getTrackLen("h");u=C._getDragLength(y,n,F,E.hScroller.scrollMinDragLength);r.width(u);J=r.outerWidth(true)-r.width();r.width(u-J);I=r.children("span");I.css("margin-left",(r.width()-I[0].offsetWidth)/2);if(F<=r.outerWidth(true)){r.hide()}else{r.show()}if(C._isDragging==true){e(document).trigger("mouseup");C._isDragging=false}}if(C.vNeedScrollBar&&G.is(":visible")){w=C._getVScrollBarLargeChange();q=C._getTrackLen("v");A=C._getDragLength(s,w,q,E.vScroller.scrollMinDragLength);G.height(A);m=G.outerHeight(true)-G.height();G.height(A-m);t=G.children("span");t.css("margin-top",(G.height()-t[0].offsetHeight)/2);if(q<=G.outerHeight(true)){G.hide()}else{G.show()}if(C._isDragging==true){e(document).trigger("mouseup");C._isDragging=false}}C._setDragAndContentPosition(false,false,"both")},_getTrackLen:function(p){var o=this,r=o._fields(),q=p+"TrackLen",n,t,m,s;if(r[q]!==undefined){return r[q]}n=r.hbarContainer;t=r.vbarContainer;m=0;s=0;if(p==="h"){s=o._getScrollContainerPadding("h");m=n.innerWidth()}if(p==="v"){s=o._getScrollContainerPadding("v");m=t.innerHeight()}r[q]=(m-s);return r[q]},_getScrollContainerPadding:function(m){var o=this,q=o._fields(),r=0,n,p;if(m==="h"){r=o._getScrollContainerPadding("left")+o._getScrollContainerPadding("right")}else{if(m==="v"){r=o._getScrollContainerPadding("top")+o._getScrollContainerPadding("bottom")}else{if(m==="left"||m==="right"){n=q.hbarContainer}else{n=q.vbarContainer}p=m+"Padding";if(q[p]!==undefined){r=q[p];return r}if(n&&n.css){r=parseFloat(n.css("padding-"+m))}q[p]=r}}return r},_triggerScroll:function(m,n,p){var o={position:m,dir:n,animationOptions:p};this._trigger("scroll",null,o)},_contentDragAnimate:function(Y,L,R,A,G,t,u){var y=this,U=y.options,Q=Y==="v",E=Q?U.vScroller:U.hScroller,P=Q?"outerHeight":"outerWidth",M=Q?"innerHeight":"innerWidth",J=Q?"contentHeight":"contentWidth",w=Q?"top":"left",D=E.scrollMin,V=E.scrollMax,N=V-D,z=E.scrollValue===undefined?D:(E.scrollValue-D),S=y._getLargeChange(Y),I=N-S+1,X=y._fields(),n=X.contentWrapper,x=X.templateWrapper,K,s,H,q,T,W,p,m,B,O,C,F;if(z>I){z=I}K=(X[J]-n[M]())*(z/I);if(Math.abs(K)<0.001){K=0}K=Math.round(K);s=-1;if(R!==undefined){if(L&&A.is(":animated")&&G!=="nonestop"){A.stop(true,false)}H=y._getTrackLen(Y);q=A[P](true);T=H-q;W=y._getScrollContainerPadding(w);s=(z/I)*T+W}if(L&&U.animationOptions&&!U.animationOptions.disabled){if(s>=0&&u!=="dragging"){p=e.extend({},U.animationOptions);p.complete=undefined;if(Q){m={top:s}}else{m={left:s}}A.animate(m,p)}B=e.extend({},U.animationOptions);O=U.animationOptions.complete;B.complete=function(){y._scrollEnd(t,y,Y);if(e.isFunction(O)){O(arguments)}};if(L&&x.is(":animated")&&G!=="nonestop"){x.stop(true,false)}if(Q){C={top:-K}}else{C={left:-K}}if(!U.customScrolling){x.animate(C,B)}else{y._scrollEnd(t,y,Y,z)}y._triggerScroll(K,Y,B)}else{F=Q?"top":"left";if(s>=0&&u!=="dragging"){A[0].style[F]=s+"px"}if(!U.customScrolling){x[0].style[F]=-K+"px"}y._triggerScroll(K,Y);y._scrollEnd(t,y,Y,z)}},_setDragAndContentPosition:function(m,p,o,u,v){var w=this,r=w._fields(),q=r.hbarContainer,n=r.hbarDrag,t=r.vbarContainer,s=r.vbarDrag;if((o==="both"||o==="h")&&r.hScrolling){w._contentDragAnimate("h",p,q,n,u,m,v)}if((o==="both"||o==="v")&&r.vScrolling){w._contentDragAnimate("v",p,t,s,u,m,v)}if(r.intervalID>0){window.clearInterval(r.intervalID)}r.intervalID=window.setInterval(function(){w._disableButtonIfNeeded(w)},500)},_scrolling:function(n,m,p){var o=true;if(n){p.beforePosition=m.getContentElement().position();m._beforePosition=p.beforePosition;o=m._trigger("scrolling",null,p);m.customScroll=p.customScroll}return o},_scrollEnd:function(o,m,n,p){if(o){window.setTimeout(function(){var q=m.getContentElement(),s,r;if(!q.is(":visible")){return}s=m.getContentElement().position();r={dir:n,beforePosition:m._beforePosition,afterPosition:s};if(!isNaN(p)){r.newValue=p}m._trigger("scrolled",null,r)},0)}},_getDragLength:function(p,m,n,q){var s=p/m,r=n/s,o=q;if(r<o){r=o}else{if((r+1)>=n){r=n-1}}return Math.round(r)},_needScrollbar:function(n,o){var m=this._hasMode(n,"scrollbar"),p=n.scrollBarVisibility,q=m&&(p==="visible"||(p==="auto"&&o));return q},_bindBarEvent:function(o,p,n){var m=this;o.bind("mouseover."+m.widgetName,m,m._scrollerMouseOver);if(!e.fn.draggable){return}p.draggable({axis:n==="h"?"x":"y",start:function(r,q){m._isDragging=true},drag:function(r,q){m._dragging(r,q,m)},containment:"parent",stop:function(q){m._dragStop(q,m,n);e(q.target).removeClass(d);m._isDragging=false}})},_createBarIfNeeded:function(z,r,p,u,w){if(z){var A=this,s,v=A._fields(),o=p+"barContainer",q=p+"barDrag",t=p==="h",m=w[t?"innerHeight":"innerWidth"](),y=v[o]=e(u),n,x;r.append(y);n=y[0][t?"offsetHeight":"offsetWidth"];m=m-n;s={direction:t?"horizontal":"vertical",targetBarLen:n,contentLength:m};if(A._trigger(t?"hScrollerActivating":"vScrollerActivating",null,s)===false){return false}x=v[q]=y.find("."+a);A._bindBarEvent(y,x,p);w[t?"height":"width"](m)}},_setScrollbarPosition:function(o,y,B,n,z,t,m,F,H,A,x){var p=A==="h",v,G,r,w,E,u,D,C,s,q=y.options.wijCSS;if(t){v=n[0][p?"offsetHeight":"offsetWidth"];G=y._getScrollContainerPadding(A);r=p?"top":"left";w=p?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"};E=p?{top:v+"px",left:null}:{left:v+"px"};u=p?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"};D=p?{top:"",left:null}:{left:""};C=B[p?"innerWidth":"innerHeight"]();if(F===r){n.css(w);B.css(E);if(p){n.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(q.cornerBL).addClass(q.cornerTL);n.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(q.cornerBR).addClass(q.cornerTR);n.removeClass(q.cornerBottom).addClass(q.cornerTop)}else{n.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(q.cornerTR).addClass(q.cornerTL);n.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(q.cornerBR).addClass(q.cornerBL);n.removeClass(q.cornerRight).addClass(q.cornerLeft)}}else{n.css(u);B.css(D);if(p){n.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(q.cornerTL).addClass(q.cornerBL);n.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(q.cornerBL).addClass(q.cornerBR);n.removeClass(q.cornerTop).addClass(q.cornerBottom)}else{n.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(q.cornerTL).addClass(q.cornerTR);n.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(q.cornerBL).addClass(q.cornerBR);n.removeClass(q.cornerLeft).addClass(q.cornerRight)}}s=0;if(m){s=z[0][p?"offsetWidth":"offsetHeight"];if(H==="left"){n.css("right","0px")}else{if(H==="right"){n.css("left","0px")}else{if(H==="top"){n.css("bottom","0px")}else{if(H==="bottom"){n.css("top","0px")}}}}}if(!p&&m){s=0}n[p?"width":"height"](C-G);y._enableDisableScrollBar(A,n,!x)}else{o.css(p?"left":"top","")}},_testScroll:function(C,v,q){var n=v.templateWrapper,w=v.contentWrapper,t=v.stateContainer,m=w.innerWidth(),A=w.innerHeight(),s=v.contentWidth,r=v.contentHeight,z,B,u,x,y,p;v.hScrolling=s>m;v.vScrolling=r>A;z=C.hNeedScrollBar=C._needScrollbar(q.hScroller,v.hScrolling);if(C._createBarIfNeeded(z,t,"h",c,w)===false){return false}if(z&&!v.vScrolling){n.css("float","left");v.contentHeight=n.height();v.vScrolling=v.contentHeight>(A-v.hbarContainer[0].offsetHeight);n.css("float","")}B=C.vNeedScrollBar=C._needScrollbar(q.vScroller,v.vScrolling);if(C._createBarIfNeeded(B,t,"v",i,w)===false){return false}if(B&&!v.hScrolling){n.css("float","left");v.contentWidth=n.width();v.hScrolling=v.contentWidth>(m-v.vbarContainer[0].offsetWidth);n.css("float","");if(v.hScrolling&&!z){z=C.hNeedScrollBar=C._needScrollbar(q.hScroller,v.hScrolling);if(C._createBarIfNeeded(z,t,"h",c,w)===false){return false}}}u=v.hbarContainer;x=v.vbarContainer;y=q.hScroller.scrollBarPosition;p=q.vScroller.scrollBarPosition;C._setScrollbarPosition(n,C,w,u,x,z,B,y,p,"h",v.hScrolling);C._setScrollbarPosition(n,C,w,x,u,B,z,p,y,"v",v.vScrolling)},_enableDisableScrollBar:function(n,p,m){var q=this.options;if(n==="v"){p[m?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled");p.find("."+q.wijCSS.stateDefault)[m?"addClass":"removeClass"](q.wijCSS.stateDisabled)}else{if(n==="h"){p[m?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled");p.find("."+q.wijCSS.stateDefault)[m?"addClass":"removeClass"](q.wijCSS.stateDisabled)}}p.children("."+a)[m?"hide":"show"]()},_initResizer:function(){var n=this,r=n.options,p=n._fields(),s=p.resizer,m,q;if(!e.fn.resizable){return}if(!s&&r.allowResize){m=r.resizableOptions;q=m.stop;m.stop=function(o){n._resizeStop(o,n);if(e.isFunction(q)){q(o)}};p.resizer=s=n.element.resizable(m)}if(!r.allowResize&&p.resizer){s.resizable("destroy");p.resizer=null}},_resizeStop:function(n,m){if(!this.options.autoRefresh){m.paintPanel(true)}m._trigger("resized")},_createAdditionalDom:function(n,p,o){if(!o.attr("tabindex")){o.attr("tabindex","-1");p.tabindex=true}var m=p.stateContainer=e(b),q;p.contentWrapper=m.children();q=p.templateWrapper=p.contentWrapper.children();o.contents().each(function(r,s){var t=e(s);if(t.hasClass("wijmo-wijsuperpanel-header")){p.header=t;return}if(t.hasClass("wijmo-wijsuperpanel-footer")){p.footer=t;return}q[0].appendChild(s)});if(p.header!==undefined){o.prepend(p.header)}o[0].appendChild(m[0]);if(p.footer!==undefined){p.footer.insertAfter(m)}},_setRounder:function(m,r){if(this.options.showRounder){r.addClass(this.options.wijCSS.cornerAll);if(m._rounderAdded){return}if(e.browser.msie){return}var p,o,q,n;p=o="";if(e.browser.webkit){o="WebkitBorderTopLeftRadius";p="WebkitBorderRadius"}else{if(e.browser.mozilla){o="MozBorderRadiusBottomleft";p="MozBorderRadius"}else{o="border-top-left-radius";p="border-radius"}}q=r.css(o);n=parseInt(q,10);r.css(p,n+1);m._rounderAdded=true;m._radiusKey=p}else{r.removeClass(this.options.wijCSS.cornerAll)}},_setInnerElementsSize:function(p,u){var m=p.stateContainer,q=p.contentWrapper,t=0,n,o,s,r;if(p.header!==undefined){t+=p.header.outerHeight()}if(p.footer!==undefined){t+=p.footer.outerHeight()}n=m[0].style;o=u.innerHeight()-t;s=u.innerWidth();n.display="none";n.height=o+"px";n.width=s+"px";r=q[0].style;r.height=o+"px";r.width=s+"px";n.display=""}});f.prototype.options=e.extend(true,{},g.wijmoWidget.prototype.options,{wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:false,autoRefresh:false,animationOptions:{queue:false,disabled:false,duration:250,easing:undefined},hScrollerActivating:null,hScroller:{scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},keyboardSupport:false,keyDownInterval:100,mouseWheelSupport:true,bubbleScrollingEvent:true,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,dragStop:null,painted:null,scrolling:null,scroll:null,scrolled:null,showRounder:true,vScrollerActivating:null,vScroller:{scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},customScrolling:false,listenContentScroll:false});e.wijmo.registerWidget("wijsuperpanel",f.prototype)}else{var a="wijmo-wijsuperpanel-handle",b="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper-touch'></div></div>";f.prototype=e.extend(true,{},e.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(n,q){var m=this,r=m.options,p=m._fields();if(n==="animationOptions"||n==="resizableOptions"){q=e.extend(r[n],q)}else{if(n==="hScroller"||n==="vScroller"){q=e.extend(r[n],q);m.refresh()}}e.Widget.prototype._setOption.apply(m,arguments);switch(n){case"allowResize":m._initResizer();break;case"disabled":m._handleDisabledOption(q,m.element);break;case"mouseWheelSupport":case"keyboardSupport":m._bindElementEvents(m,p,m.element,r);break}},_create:function(){var m=this,n=m.options;n.vScroller.dir="v";n.hScroller.dir="h";m._createDom();if(m.options.disabled){m.disable()}if(m.element.is(":hidden")&&m.element.wijAddVisibilityObserver){m.element.wijAddVisibilityObserver(function(){m.refresh();if(m.element.wijRemoveVisibilityObserver){m.element.wijRemoveVisibilityObserver()}},"wijsuperpanel")}},_handleDisabledOption:function(n,o){var m=this;if(n){if(!m.disabledDiv){m.disabledDiv=m._createDisabledDiv(o)}m.disabledDiv.appendTo("body")}else{if(m.disabledDiv){m.disabledDiv.remove();m.disabledDiv=null}}},_createDisabledDiv:function(o){var n=this,r=o?o:n.element,q=r.offset(),p=r.outerWidth(),m=r.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:p,height:m,left:q.left,top:q.top})},_createDom:function(){var m=this,n=m.element;m.paintPanel();m._initResizer();m._bindElementEvents()},_applyOverflow:function(m){var p={},q=this.options,n=q.hScroller.scrollBarVisibility,r=q.vScroller.scrollBarVisibility;p["overflow-x"]=n;p["overflow-y"]=r;m.css(p)},_createAdditionalDom:function(n,p,o){if(!o.attr("tabindex")){o.attr("tabindex","-1");p.tabindex=true}var m=p.stateContainer=e(b),q;n._applyOverflow(p.stateContainer);p.contentWrapper=m.children();o.contents().each(function(r,s){var t=e(s);if(t.hasClass("wijmo-wijsuperpanel-header")){p.header=t;return}if(t.hasClass("wijmo-wijsuperpanel-footer")){p.footer=t;return}p.contentWrapper[0].appendChild(s)});if(p.header!==undefined){o.prepend(p.header)}o[0].appendChild(m[0]);if(p.footer!==undefined){p.footer.insertAfter(m)}n._resetDom()},_bindElementEvents:function(){var m=this,p=m.element,q=m.options,n=m.widgetName;p.bind("scroll",function(o){m._triggerScroll()});if(q.keyboardSupport){if(m._keyboardBind===undefined){m._keyboardBind=true;p.bind("keydown."+n,m,m._panelKeyDown)}}else{p.unbind("keydown."+n,m._panelKeyDown);m._keyboardBind=undefined}if(!q.mouseWheelSupport){p.bind("mousewheel",function(o){o.stopPropagation();return false})}},_setScrollingInterval:function(q,n,m,p){var r=m.options;if(n.length>0){q.internalFuncID=window.setInterval(function(){m._doScrolling(n,m,p)},r.keyDownInterval)}},_triggerScroll:function(m,n){var o={position:m,dir:n};this._trigger("scroll",null,o)},_panelKeyDown:function(r){var p=r.data,s=p.options,n,m,q=p.getKeyCodeEnum();if(!s.keyboardSupport||s.disabled){return}n=r.shiftKey;m=r.keyCode;if(m===q.LEFT){p._doScrolling("left",p,n)}else{if(m===q.RIGHT){p._doScrolling("right",p,n)}else{if(m===q.UP){p._doScrolling("top",p,n)}else{if(m===q.DOWN){p._doScrolling("bottom",p,n)}}}}r.stopPropagation();r.preventDefault()},_doScrolling:function(n,u,t){var s,p,m,q=u._fields(),v=q.stateContainer[0],o={},r;if(n==="top"||n==="bottom"){p="v";m="scrollTop"}else{if(n==="left"||n==="right"){p="h";m="scrollLeft"}}if(t){s=u._getLargeChange(p)}else{s=u._getSmallChange(p)}r=v[m];if(n==="top"||n==="left"){o[m]=r-s}else{o[m]=r+s}u._animateTo(o)},_getLargeChange:function(q){var n=this,p=n._fields(),m,o=q=="h"?p.clientWidth:p.clientHeight;if(o){m=o}else{m=p.stateContainer[q=="h"?"width":"height"]()}return m},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(m,s){var r=this.options.wijCSS.cornerAll;if(this.options.showRounder){s.addClass(r);if(m._rounderAdded){return}if(e.browser.msie){return}var p,o,q,n;p=o="";if(e.browser.webkit){o="WebkitBorderTopLeftRadius";p="WebkitBorderRadius"}else{if(e.browser.mozilla){o="MozBorderRadiusBottomleft";p="MozBorderRadius"}else{o="border-top-left-radius";p="border-radius"}}q=s.css(o);n=parseInt(q,10);s.css(p,n+1);m._rounderAdded=true;m._radiusKey=p}else{s.removeClass(r)}},_initResizer:function(){var n=this,r=n.options,p=n._fields(),s=p.resizer,m,q;if(!e.fn.resizable){return}if(!s&&r.allowResize){m=r.resizableOptions;q=m.stop;m.stop=function(o){n._resetDom();n._trigger("resized");if(e.isFunction(q)){q(o)}};p.resizer=s=n.element.resizable(m)}if(!r.allowResize&&p.resizer){s.resizable("destroy");p.resizer=null}},_resetDom:function(){var n=this,s=n.options,r=n.element,q=n._fields(),p=r.width(),m=r.height();if(q.stateContainer.length){q.stateContainer.css({width:p,height:m});q.clientWidth=q.stateContainer[0].clientWidth;q.clientHeight=q.stateContainer[0].clientHeight}},_fields:function(){var m=this,o=m.element,n=m.widgetName+"-fields",p=m._fieldsStore;if(p===undefined){p={};o.data(n,p);m._fieldsStore=p}return p},_getScrollOffset:function(s){var o=e(s),t,w,u,q,p,v,m,r,n,x={left:null,top:null};if(o.length===0){return x}t=this._fields();w=t.contentWrapper;u=o.offset();u.leftWidth=u.left+o.outerWidth();u.topHeight=u.top+o.outerHeight();p=w.offset();p.leftWidth=p.left+t.clientWidth;p.topHeight=p.top+t.clientHeight;r=u.left-p.left;if(u.left<p.left){x.left=r}else{if(u.leftWidth>p.leftWidth){n=u.leftWidth-p.left-t.clientWidth;if(r<n){x.left=r}else{x.left=n}}}v=u.top-p.top;if(u.top<p.top){x.top=v}else{if(u.topHeight>p.topHeight){m=u.topHeight-p.top-t.clientHeight;if(v<m){x.top=v}else{x.top=m}}}return x},_initialize:function(o,n,m){var p=m.options.wijCSS;o.initialized=true;n.addClass(["wijmo-wijsuperpanel",p.widget,p.content].join(" "));m._setRounder(m,n);m._createAdditionalDom(m,o,n);m._trigger("painted")},_animateTo:function(s){var m=this,q=m.element,r=m.options,n=r.animationOptions,p=m._fields();p.stateContainer.animate(s,n)},destroy:function(){var m=this,q=m.element,s=m.options,p=m._fields(),n,r=s.wijCSS;if(m.disabledDiv){m.disabledDiv.remove();m.disabledDiv=null}if(p.resizer!==undefined){p.resizer.resizable("destroy")}q.unbind("."+m.widgetName);q.removeClass(["wijmo-wijsuperpanel",r.widget,r.content,r.cornerAll].join(" "));n=p.contentWrapper;n.contents().each(function(o,t){q.append(t)});p.stateContainer.remove();e.Widget.prototype.destroy.apply(m,arguments)},doScrolling:function(m,n){this._doScrolling(m,n)},paintPanel:function(n){var m=this,p=m.element,o=m._fields();if(!o.initialized){this._initialize(o,p,m)}},needToScroll:function(m){var n=this._getScrollOffset(m);return n.top!==null||n.left!==null},scrollChildIntoView:function(m){var p=this._getScrollOffset(m),o=p.left,n=p.top;this.scrollTo(o,n)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(m){this._animateTo({scrollLeft:m})},vScrollTo:function(m){this._animateTo({scrollTop:m})},refresh:function(){var m=this,n=m._fields();m._applyOverflow(n.stateContainer);m._resetDom()},scrollTo:function(m,n){this._animateTo({scrollTop:n,scrollLeft:m})},scrollPxToValue:function(n,m){return n}});f.prototype.options=e.extend(true,{},g.wijmoWidget.prototype.options,{wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:false,animationOptions:{queue:false,disabled:false,duration:250,easing:undefined},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:false,keyDownInterval:100,mouseWheelSupport:true,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,painted:null,scroll:null,showRounder:true,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}});e.wijmo.registerWidget("wijsuperpanel",f.prototype)}})(wijmo||(wijmo={}));